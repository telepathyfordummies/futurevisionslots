<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Machine Scroll Demo</title>

<style>
body {
  background:#1a1a1a;
  color:#e9e2d0;
  font-family: monospace;
  text-align:center;
  padding-top:40px;
}

/* --- MACHINE CONTAINER --- */
.machine-container {
  position: relative;   /* scroll positions relative to this */
  width: 600px;         /* make machine bigger */
  margin: 0 auto;
}

/* --- MACHINE IMAGE BUTTON --- */
#machine {
  width: 100%;          /* fills container */
  height: auto;         /* maintain aspect ratio */
  cursor: pointer;
  transition: transform .1s;
}
#machine:active {
  transform: scale(0.95);
}

/* --- POPUP SCROLL --- */
#scrollPopup {
  position: absolute;            /* relative to container */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 480px;
  min-height: 250px;            /* starting height */
  height: auto;                  /* expands with text */
  padding: 40px;
  background: url("scroll.png") no-repeat center top / 100% auto;
  display: none;                 /* show when needed */
  justify-content: flex-start;   /* align text to top */
  align-items: flex-start;
  text-align: center;
  color: black;
  font-size: 26px;
  font-weight: bold;
  text-shadow: 2px 2px 0 #c3b39a;
  box-sizing: border-box;
}

/* Text inside scroll */
#scrollText {
  width: 100%;    /* fill scroll width */
  margin-top: 0;  /* remove extra margin */
}

/* Cursor for closeable scroll */
#scrollPopup.closeable {
  cursor: pointer;
}
</style>
</head>
<body>

<h2>Machine Scroll Demo</h2>

<!-- MACHINE CONTAINER -->
<div class="machine-container">
  <img id="machine" src="machine.png" alt="machine">

  <!-- SCROLL POPUP -->
  <div id="scrollPopup">
    <div id="scrollText"></div>
  </div>
</div>

<script>
const spoilers = [
  "Craig really could see it in her eyes then.",
  "Sometimes a story is told nonlinearly.",
  "Declarations of love can ruin things even if the love is reciprocated.",
  "If you eat something, sometimes you can absorb its power.",
  "Someone is always watching.",
  "Anything is a weapon if you're stupid enough.",
  "Connections terrify those without any.",
  "Natural laws cannot be erased.",
  "...",
  "Even people you should always listen to can be wrong sometimes.",
  "M0DS R D3AD",
  "There is always more to this story.",
  "THE RAT KNOWS TOO MUCH.",
  "Hello World is used exactly twice within this story.",
  "Nightmares are often the source of déjà rêvé.",
  "WHO IS ELIAS?",
  "WHO ARE YOU?",
  "???",
  "horse1.png",
  "horse2.png"
];

document.getElementById("machine").addEventListener("click", () => {
  const pick = spoilers[Math.floor(Math.random() * spoilers.length)];
  showScroll(pick);
});

function showScroll(text) {
  const popup = document.getElementById("scrollPopup");
  const t = document.getElementById("scrollText");

  if (text.endsWith(".png") || text.endsWith(".jpg")) {
    t.innerHTML = `<img src="${text}" style="width:200px;">`;
  } else {
    t.textContent = text;
  }

  popup.style.display = "flex";
  popup.classList.add("closeable");
}

// Close scroll on click
document.getElementById("scrollPopup").addEventListener("click", () => {
  document.getElementById("scrollPopup").style.display = "none";
});
</script>

</body>
</html>

