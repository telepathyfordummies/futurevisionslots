<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FutureVision</title>

<style>
body {
  background:#1a1a1a;
  color:#e9e2d0;
  font-family: monospace;
  text-align:center;
  padding-top:40px;
}

/* --- MACHINE IMAGE BUTTON --- */
#machine {
  width:260px;
  cursor:pointer;
  transition: transform .1s;
}
#machine:active {
  transform: scale(0.95);
}

/* --- POPUP SCROLL --- */
#scrollPopup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 480px;
  padding: 40px;
  background: url("scroll.png") no-repeat center/contain;
  height: 250px;
  display: none;
  justify-content: center;
  align-items: center;
  text-align:center;
  color:black;
  font-size: 26px;
  font-weight: bold;
  text-shadow: 2px 2px 0 #c3b39a;
}

#scrollText {
  width: 300px;
  margin-top: 40px;
}

/* Click anywhere to close */
#scrollPopup.closeable {
  cursor: pointer;
}

</style>
</head>
<body>

<h2>FutureVision</h2>

<!-- CLICKABLE MACHINE PNG -->
<img id="machine" src="machine.png" alt="machine">

<!-- SCROLL POPUP -->
<div id="scrollPopup">
  <div id="scrollText"></div>
</div>

<script>
// Your pool of spoilers
const spoilers = [
  "Craig really could see it in her eyes then.",
  "Sometimes a story is told nonlinearly.",
  "Declarations of love can ruin things even if the love is reciprocated.",
  "If you eat something, sometimes you can absorb its power.",
  "Someone is always watching.",
   "Anything is a weapon if you're stupid enough.",
   "Connections terrify those without any.",
   "Natural laws cannot be erased.",
   "...",
   "Even people you should always listen to can be wrong sometimes.",
   "M0DS R D3AD",
   "There is always more to this story.",
  "THE RAT KNOWS TOO MUCH.",
  "Attention: If you or a loved one has been diagnosed with Mesothelioma you may to be entitled to financial compensation. Mesothelioma is a rare cancer linked to asbestos exposure. Exposure to asbestos in they Navy, shipyards, mills, heating, construction or the automotive industries may put you at risk. Please don't wait, call 1-800-99 LAW USA today for a free legal consultation and financial information packet. Mesothelioma patients call now! 1-800-99 LAW USA",
  "Hello World is used exactly twice within this story.",
  "Nightmares are often the source of déjà rêvé.",
  "WHO IS ELIAS?",
   "WHO ARE YOU?",
   "???",
  "horse1.png",
  "horse2.png",
];

// LocalStorage daily limit
// function canSpin() {
//  const last = localStorage.getItem("lastSpin");
 // const today = new Date().toISOString().slice(0,10);
 // return last !== today;
//}
//function setSpinDate() {
  //const today = new Date().toISOString().slice(0,10);
  //localStorage.setItem("lastSpin", today);
//} 

// MAIN MACHINE CLICK
document.getElementById("machine").addEventListener("click", () => {

  if (!canSpin()) {
    showScroll("You've already spun today!");
    return;
  }

  // pick random result
  const pick = spoilers[Math.floor(Math.random() * spoilers.length)];

  setSpinDate();
  showScroll(pick);
});

// POPUP LOGIC
function showScroll(text) {
  const popup = document.getElementById("scrollPopup");
  const t = document.getElementById("scrollText");

  t.textContent = text;
  popup.style.display = "flex";
  popup.classList.add("closeable");
}

document.getElementById("scrollPopup").addEventListener("click", () => {
  const popup = document.getElementById("scrollPopup");
  popup.style.display = "none";
});
</script>

</body>
</html>
