<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> </title>
<style>
body {
  background: #1a1a1a;
  font-family: monospace;
  color: #e9e2d0;
  text-align: center;
  padding-top: 40px;
}

.machine-container {
  position: relative;
  width: 600px;
  margin: 0 auto;
}

#machine {
  width: 100%;
  cursor: pointer;
  transition: transform 0.1s;
}
#machine:active { transform: scale(0.95); }

#scrollPopup {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: none;
  cursor: pointer;
  flex-direction: column;
  width: 480px;
}

/* Scroll top and bottom PNG decorations */
.scroll-top { height: 80px; background: url('scroll-top.png') no-repeat center top / contain; }
.scroll-bottom { height: 80px; background: url('scroll-bottom.png') no-repeat center bottom / contain; }

/* Scroll middle container */
.scroll-middle {
  position: relative;
}

/* Text overlay */
#scrollText {
  position: absolute;
  top: 20px;
  left: 20px;
  right: 20px;
  color: black;
  font-size: 26px;
  font-weight: bold;
  text-shadow: 2px 2px 0 #c3b39a;
}
</style>
</head>
<body>

<h2> </h2>

<div class="machine-container">
  <img id="machine" src="machine.png" alt="machine">

  <div id="scrollPopup">
    <div class="scroll-top"></div>
    <div class="scroll-middle">
      <!-- Your middle scroll SVG -->
      <svg id="middleSVG" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
        <!-- Paste your full SVG paths here -->
        <path fill="#000000" d="..."/>
        <!-- ... rest of your SVG paths ... -->
      </svg>
      <div id="scrollText"></div>
    </div>
    <div class="scroll-bottom"></div>
  </div>
</div>

<script>
const spoilers = [
  "Craig really could see it in her eyes then.",
  "Sometimes a story is told nonlinearly.",
  "Declarations of love can ruin things even if the love is reciprocated.",
  "If you eat something, sometimes you can absorb its power.",
  "Someone is always watching.",
  "Anything is a weapon if you're stupid enough.",
  "Connections terrify those without any.",
  "Natural laws cannot be erased.",
  "...",
  "Even people you should always listen to can be wrong sometimes.",
  "M0DS R D3AD",
  "There is always more to this story.",
  "THE RAT KNOWS TOO MUCH.",
  "Hello World is used exactly twice within this story.",
  "Nightmares are often the source of déjà rêvé.",
  "WHO IS ELIAS?",
  "WHO ARE YOU?",
  "???",
  "horse1.png",
  "horse2.png"
];

const machine = document.getElementById("machine");
const popup = document.getElementById("scrollPopup");
const textDiv = document.getElementById("scrollText");
const svg = document.getElementById("middleSVG");

machine.addEventListener("click", () => {
  const pick = spoilers[Math.floor(Math.random() * spoilers.length)];
  textDiv.textContent = pick;

  // Wait for browser to render text to measure height
  requestAnimationFrame(() => {
    const textHeight = textDiv.offsetHeight + 40; // padding
    svg.setAttribute("height", textHeight); // dynamically resize SVG
    popup.style.display = "flex";
  });
});

popup.addEventListener("click", () => {
  popup.style.display = "none";
});
</script>

</body>
</html>

